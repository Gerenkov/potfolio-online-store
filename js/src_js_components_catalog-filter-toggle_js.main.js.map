{"version":3,"file":"src_js_components_catalog-filter-toggle_js.main.js","mappings":"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","sources":["webpack://gulp-builder/./src/js/components/catalog-filter-toggle.js"],"sourcesContent":["import vars from \"../_vars\";\n\nif (document.querySelector('.catalog')) {\n  vars.$catalogFilterTop.forEach(el => {\n    el.addEventListener('click', (e) => {\n      e.currentTarget.closest('.catalog-filter').classList.toggle('catalog-filter--open');\n    });\n  });\n\n  vars.$hideFilters.addEventListener('click', (e) => {\n    vars.$catalogFilterTop.forEach(el => {\n      el.closest('.catalog-filter').classList.remove('catalog-filter--open');\n    });\n  });\n\n  const createChoiceItem = (text) => {\n    return (\n      `\n        <button class=\"catalog-choice__item btn-reset\" data-choice-text=\"${text}\">\n          ${text}\n          <svg aria-hidden=\"true\">\n            <use xlink:href=\"img/sprite.svg#close\"></use>\n          </svg>\n        </button>\n      `\n    )\n  }\n\n  vars.$catalogFilterItems.forEach(el => {\n    el.querySelector('input').addEventListener('change', (e) => {\n      let checked = el.querySelector('input').checked;\n\n      if (checked) {\n        el.querySelector('.custom-checkbox').classList.add('custom-checkbox--active')\n        let text = el.querySelector('.custom-checkbox__text').textContent;\n\n        vars.$catalogChoice.insertAdjacentHTML('afterbegin', createChoiceItem(text));\n\n      } else {\n        el.querySelector('.custom-checkbox').classList.remove('custom-checkbox--active')\n\n        let text = el.querySelector('.custom-checkbox').dataset.text;\n\n        document.querySelector(`[data-choice-text=\"${text}\"]`).remove();\n      }\n\n      el.closest('.catalog-filter').querySelector('.catalog-filter__quantity').textContent = el.closest('.catalog-filter__items').querySelectorAll('.custom-checkbox--active').length;\n\n      let activeCheckboxes = document.querySelectorAll('.custom-checkbox--active')\n\n      if (activeCheckboxes.length > 0) {\n        vars.$catalogChoice.style.display = 'block';\n      } else {\n        vars.$catalogChoice.style.display = 'none';\n      }\n    });\n  });\n\n  vars.$catalogChoice.addEventListener('click', (e) => {\n    if (e.target.classList.contains('catalog-choice__item')) {\n      e.target.remove();\n\n      let text = e.target.textContent.trimLeft().trimRight();\n\n      document.querySelector(`[data-text=\"${text}\"]`).querySelector('input').checked = false;\n      document.querySelector(`[data-text=\"${text}\"]`).classList.remove('custom-checkbox--active');\n    }\n\n    if (e.target.classList.contains('catalog-choice__clear')) {\n      Array.from(e.currentTarget.children).forEach(el => {\n        if (!el.classList.contains('catalog-choice__clear')) {\n          el.remove();\n        }\n\n        document.querySelectorAll('.catalog-filter__quantity').forEach(el => el.textContent = 0);\n\n        vars.$catalogFilterItems.forEach(el => {\n          el.querySelector('input').checked = false;\n          el.querySelector('.custom-checkbox').classList.remove('custom-checkbox--active');\n        })\n      });\n\n      e.currentTarget.style.display = 'none';\n    }\n\n    if (e.currentTarget.children.length === 1) {\n      e.currentTarget.style.display = 'none';\n    }\n\n  });\n}\n\n"],"names":["vars","document","querySelector","$catalogFilterTop","forEach","el","addEventListener","e","currentTarget","closest","classList","toggle","$hideFilters","remove","createChoiceItem","text","$catalogFilterItems","checked","add","textContent","$catalogChoice","insertAdjacentHTML","dataset","querySelectorAll","length","activeCheckboxes","style","display","target","contains","trimLeft","trimRight","Array","from","children"],"sourceRoot":""}